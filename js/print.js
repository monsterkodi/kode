// koffee 1.20.0

/*
00000000   00000000   000  000   000  000000000
000   000  000   000  000  0000  000     000
00000000   0000000    000  000 0 000     000
000        000   000  000  000  0000     000
000        000   000  000  000   000     000
 */
var Print, childp, fs, klor, kstr, noon, slash,
    indexOf = [].indexOf;

kstr = require('kstr');

klor = require('klor');

noon = require('noon');

slash = require('kslash');

childp = require('child_process');

fs = require('fs-extra');

klor.kolor.globalize();

Print = (function() {
    function Print() {}

    Print.tokens = function(header, tokens) {
        var i, len, results, tok;
        console.log(R3(y5("\n " + header)));
        console.log(b6(kstr.pad('', 80, ' ')));
        results = [];
        for (i = 0, len = tokens.length; i < len; i++) {
            tok = tokens[i];
            results.push(this.token(tok));
        }
        return results;
    };

    Print.token = function(tok) {
        var indent, ref, toktext;
        indent = kstr.lpad('', tok.col);
        if (tok.type === 'nl') {
            console.log(red('◂'));
        }
        if ((ref = tok.type) === 'ws' || ref === 'nl') {
            return;
        }
        toktext = function(tok) {
            if (tok.text === '') {
                return '\n' + indent;
            } else if (tok.text) {
                return tok.text;
            } else if (tok.tokens) {
                return '\n' + ((kstr.lpad('', 20)) + tok.indent) + (tok.tokens.map(function(t) {
                    return toktext(t);
                })).join(' ');
            } else {
                return '???';
            }
        };
        return console.log(b6(kstr.lpad(tok.line, 4)), blue(kstr.lpad(tok.col, 3)), gray(kstr.pad(tok.type, 10)), bold(yellow(indent + toktext(tok))));
    };

    Print.stack = function(stack, node, color) {
        if (color == null) {
            color = W4;
        }
        return console.log(W2(stack.join(' ') + ' ') + color(node != null ? node : ''));
    };

    Print.sheap = function(sheap, popped) {
        var c, i, len, r, s;
        s = B4('   ');
        for (i = 0, len = sheap.length; i < len; i++) {
            r = sheap[i];
            if (r.type === 'exps') {
                s += B5(r.text + B4(' '));
            } else {
                s += Y4(black(r.text + ' '));
            }
        }
        if (popped) {
            c = popped.type === 'exps' ? B1 : W1;
            s += black(c(popped.text) + ' ');
        }
        return console.log(s);
    };

    Print.block = function(header, block, legend) {
        var printBlock;
        if (legend == null) {
            legend = false;
        }
        console.log(R3(y5("\n " + header)));
        printBlock = function(b) {
            var c, ci, cn, i, len, ref, ref1, ref2, ref3, s;
            if (legend) {
                s = b.indent + b6(kstr.rpad(b.line, 3)) + b5('- ' + kstr.pad(b.last, 3)) + w2(kstr.rpad(b.col, 3)) + yellow(b.tokens.length);
                s += '\n' + b.indent;
            }
            s = b.indent;
            if ((ref = b.type) === '{}' || ref === '()' || ref === '[]') {
                s += b.type[0] + ' ';
            }
            ref1 = b.tokens;
            for (i = 0, len = ref1.length; i < len; i++) {
                c = ref1[i];
                if (c.tokens != null) {
                    s += '\n' + printBlock(c) + b.indent;
                } else if (c.type === 'nl') {
                    s += '\n' + b.indent + '▸';
                } else {
                    ci = parseInt(b.indent.length / 4);
                    cn = ['g5', 'r5', 'm5', 'g3', 'r3', 'm3', 'g1', 'r1', 'm1'][ci % 8];
                    s += global[cn](((ref2 = c.text) != null ? ref2 : '') + ' ');
                }
            }
            if ((ref3 = b.type) === '{}' || ref3 === '()' || ref3 === '[]') {
                s += b.type[1];
            }
            return s;
        };
        return console.log(printBlock(block));
    };

    Print.ast = function(header, ast) {
        var i, len, lpad, node, printNode, results;
        console.log(G1(g6("\n " + header)));
        lpad = kstr.lpad('', 19);
        printNode = function(node, indent, visited) {
            var i, len, name, s, value;
            if (indent == null) {
                indent = '';
            }
            if (visited == null) {
                visited = [];
            }
            s = '';
            if (!node) {
                return s;
            }
            if (node.type) {
                s += b6(kstr.lpad(node.line, 4)) + ' ' + blue(kstr.lpad(node.col, 3)) + ' ' + gray(kstr.pad(node.type, 10)) + ' ' + bold(yellow(indent + node.text) + '\n');
            } else if (node instanceof Array) {
                if (indexOf.call(visited, node) >= 0) {
                    return s;
                }
                visited.push(node);
                s += lpad + ' ' + bold(w3(indent + '{'));
                for (i = 0, len = node.length; i < len; i++) {
                    value = node[i];
                    s += '\n';
                    s += printNode(value, indent, visited);
                }
                s += lpad + ' ' + bold(w3(indent + '}\n'));
            } else {
                if (indexOf.call(visited, node) >= 0) {
                    return s;
                }
                visited.push(node);
                for (name in node) {
                    value = node[name];
                    s += lpad + ' ' + bold(b8(indent + name));
                    s += '\n';
                    s += printNode(value, indent + '  ', visited);
                }
            }
            return s;
        };
        if (ast instanceof Array) {
            results = [];
            for (i = 0, len = ast.length; i < len; i++) {
                node = ast[i];
                results.push(console.log(printNode(node)));
            }
            return results;
        } else {
            return console.log(printNode(ast));
        }
    };

    Print.code = function(msg, code, ext) {
        var tmp;
        if (ext == null) {
            ext = 'js';
        }
        console.log(W1(w5(kstr.lpad(msg + ' ', 80))));
        tmp = slash.tmpfile();
        tmp = slash.swapExt(tmp, ext);
        slash.writeText(tmp, code);
        console.log(childp.execSync(__dirname + "/../node_modules/.bin/colorcat --lineNumbers " + tmp, {
            encoding: 'utf8'
        }));
        return fs.unlink(tmp);
    };

    Print.noon = function(msg, arg) {
        console.log(red(msg));
        return console.log(noon.stringify(arg, {
            colors: true
        }));
    };

    return Print;

})();

module.exports = Print;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpbnQuanMiLCJzb3VyY2VSb290IjoiLi4vY29mZmVlIiwic291cmNlcyI6WyJwcmludC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7OztBQUFBLElBQUEsMENBQUE7SUFBQTs7QUFRQSxJQUFBLEdBQVMsT0FBQSxDQUFRLE1BQVI7O0FBQ1QsSUFBQSxHQUFTLE9BQUEsQ0FBUSxNQUFSOztBQUNULElBQUEsR0FBUyxPQUFBLENBQVEsTUFBUjs7QUFDVCxLQUFBLEdBQVMsT0FBQSxDQUFRLFFBQVI7O0FBQ1QsTUFBQSxHQUFTLE9BQUEsQ0FBUSxlQUFSOztBQUNULEVBQUEsR0FBUyxPQUFBLENBQVEsVUFBUjs7QUFFVCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVgsQ0FBQTs7QUFFTTs7O0lBUUYsS0FBQyxDQUFBLE1BQUQsR0FBUyxTQUFDLE1BQUQsRUFBUyxNQUFUO0FBQ0YsWUFBQTtRQUFBLE9BQUEsQ0FBQyxHQUFELENBQUssRUFBQSxDQUFHLEVBQUEsQ0FBRyxLQUFBLEdBQU0sTUFBVCxDQUFILENBQUw7UUFBeUIsT0FBQSxDQUN4QixHQUR3QixDQUNwQixFQUFBLENBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBUyxFQUFULEVBQVksRUFBWixFQUFlLEdBQWYsQ0FBSCxDQURvQjtBQUV4QjthQUFBLHdDQUFBOzt5QkFDSSxJQUFDLENBQUEsS0FBRCxDQUFPLEdBQVA7QUFESjs7SUFIQzs7SUFNVCxLQUFDLENBQUEsS0FBRCxHQUFRLFNBQUMsR0FBRDtBQUVKLFlBQUE7UUFBQSxNQUFBLEdBQVMsSUFBSSxDQUFDLElBQUwsQ0FBVSxFQUFWLEVBQWEsR0FBRyxDQUFDLEdBQWpCO1FBQW9CLElBQ2QsR0FBRyxDQUFDLElBQUosS0FBWSxJQURFO1lBQUEsT0FBQSxDQUM3QixHQUQ2QixDQUN6QixHQUFBLENBQUksR0FBSixDQUR5QixFQUFBOztRQUU3QixXQUFVLEdBQUcsQ0FBQyxLQUFKLEtBQWEsSUFBYixJQUFBLEdBQUEsS0FBaUIs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QixDQUFILENBQUgsQ0FBTDtRQUNDLEdBQUEsR0FBTSxLQUFLLENBQUMsT0FBTixDQUFBO1FBQ04sR0FBQSxHQUFNLEtBQUssQ0FBQyxPQUFOLENBQWMsR0FBZCxFQUFtQixHQUFuQjtRQUNOLEtBQUssQ0FBQyxTQUFOLENBQWdCLEdBQWhCLEVBQXFCLElBQXJCO1FBQXlCLE9BQUEsQ0FDekIsR0FEeUIsQ0FDckIsTUFBTSxDQUFDLFFBQVAsQ0FBbUIsU0FBRCxHQUFXLCtDQUFYLEdBQTBELEdBQTVFLEVBQWtGO1lBQUEsUUFBQSxFQUFTLE1BQVQ7U0FBbEYsQ0FEcUI7ZUFFekIsRUFBRSxDQUFDLE1BQUgsQ0FBVSxHQUFWO0lBTkc7O0lBUVAsS0FBQyxDQUFBLElBQUQsR0FBTyxTQUFDLEdBQUQsRUFBTSxHQUFOO1FBQ0osT0FBQSxDQUFDLEdBQUQsQ0FBSyxHQUFBLENBQUksR0FBSixDQUFMO2VBQVksT0FBQSxDQUNYLEdBRFcsQ0FDUCxJQUFJLENBQUMsU0FBTCxDQUFlLEdBQWYsRUFBb0I7WUFBQSxNQUFBLEVBQU8sSUFBUDtTQUFwQixDQURPO0lBRFI7Ozs7OztBQUlYLE1BQU0sQ0FBQyxPQUFQLEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4wMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwMFxuMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwICAgICAwMDBcbjAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAgIDAwMCAwIDAwMCAgICAgMDAwXG4wMDAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAgIDAwMDAgICAgIDAwMFxuMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgMDAwICAgMDAwICAgICAwMDBcbiMjI1xuXG5rc3RyICAgPSByZXF1aXJlICdrc3RyJ1xua2xvciAgID0gcmVxdWlyZSAna2xvcidcbm5vb24gICA9IHJlcXVpcmUgJ25vb24nXG5zbGFzaCAgPSByZXF1aXJlICdrc2xhc2gnXG5jaGlsZHAgPSByZXF1aXJlICdjaGlsZF9wcm9jZXNzJ1xuZnMgICAgID0gcmVxdWlyZSAnZnMtZXh0cmEnXG5cbmtsb3Iua29sb3IuZ2xvYmFsaXplKClcblxuY2xhc3MgUHJpbnRcblxuICAgICMgMDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgIDAwMCAgIDAwMCAgICAgICAwMDAwICAwMDAgIDAwMFxuICAgICMgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMCAwIDAwMCAgMDAwMDAwMFxuICAgICMgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgMDAwICAgMDAwICAgICAgIDAwMCAgMDAwMCAgICAgICAwMDBcbiAgICAjICAgIDAwMCAgICAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDBcblxuICAgIEB0b2tlbnM6IChoZWFkZXIsIHRva2VucykgLT5cbiAgICAgICAgICAgIGxvZyBSMyB5NSBcIlxcbiAje2hlYWRlcn1cIlxuICAgICAgICAgICAgbG9nIGI2KGtzdHIucGFkICcnIDgwICcgJylcbiAgICAgICAgICAgIGZvciB0b2sgaW4gdG9rZW5zXG4gICAgICAgICAgICAgICAgQHRva2VuIHRva1xuXG4gICAgQHRva2VuOiAodG9rKSAtPlxuICAgICAgICBcbiAgICAgICAgaW5kZW50ID0ga3N0ci5scGFkICcnIHRvay5jb2xcbiAgICAgICAgbG9nIHJlZCAn4peCJyBpZiB0b2sudHlwZSA9PSAnbmwnXG4gICAgICAgIHJldHVybiBpZiB0b2sudHlwZSBpbiBbJ3dzJydubCddXG4gICAgICAgIHRva3RleHQgPSAodG9rKSAtPiBcbiAgICAgICAgICAgIGlmIHRvay50ZXh0ID09ICcnIHRoZW4gJ1xcbicraW5kZW50IFxuICAgICAgICAgICAgZWxzZSBpZiB0b2sudGV4dCB0aGVuIHRvay50ZXh0IFxuICAgICAgICAgICAgZWxzZSBpZiB0b2sudG9rZW5zXG4gICAgICAgICAgICAgICAgJ1xcbicrKChrc3RyLmxwYWQgJycgMjApK3Rvay5pbmRlbnQpKyh0b2sudG9rZW5zLm1hcCAodCkgLT4gdG9rdGV4dCh0KSkuam9pbiAnICdcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAnPz8/J1xuICAgICAgICBsb2cgYjYoa3N0ci5scGFkIHRvay5saW5lLCA0KSwgYmx1ZShrc3RyLmxwYWQgdG9rLmNvbCwgMyksIGdyYXkoa3N0ci5wYWQgdG9rLnR5cGUsIDEwKSwgYm9sZCB5ZWxsb3coaW5kZW50ICsgdG9rdGV4dCB0b2spXG4gICAgICAgICAgICBcbiAgICAjICAwMDAwMDAwICAwMDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAwMDBcbiAgICAjIDAwMDAwMDAgICAgICAwMDAgICAgIDAwMDAwMDAwMCAgMDAwICAgICAgIDAwMDAwMDBcbiAgICAjICAgICAgMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgMDAwXG4gICAgIyAwMDAwMDAwICAgICAgMDAwICAgICAwMDAgICAwMDAgICAwMDAwMDAwICAwMDAgICAwMDBcblxuICAgIEBzdGFjazogKHN0YWNrLCBub2RlLCBjb2xvcj1XNCkgLT5cblxuICAgICAgICBsb2cgVzIoc3RhY2suam9pbignICcpICsgJyAnKSArIGNvbG9yIG5vZGUgPyAnJ1xuICAgICAgICBcbiAgICBAc2hlYXA6IChzaGVhcCwgcG9wcGVkKSAtPlxuICAgICAgICBcbiAgICAgICAgcyA9IEI0ICcgICAnXG4gICAgICAgIGZvciByIGluIHNoZWFwXG4gICAgICAgICAgICBpZiByLnR5cGUgPT0gJ2V4cHMnIFxuICAgICAgICAgICAgICAgIHMgKz0gQjUgci50ZXh0ICsgQjQgJyAnXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcyArPSBZNCBibGFjayByLnRleHQgKyAnICdcbiAgICAgICAgaWYgcG9wcGVkXG4gICAgICAgICAgICBjID0gaWYgcG9wcGVkLnR5cGUgPT0gJ2V4cHMnIHRoZW4gQjEgZWxzZSBXMVxuICAgICAgICAgICAgcyArPSBibGFjayBjKHBvcHBlZC50ZXh0KSArICcgJ1xuICAgICAgICBsb2cgc1xuXG4gICAgIyAwMDAwMDAwICAgIDAwMCAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgIDAwMFxuICAgICMgMDAwMDAwMCAgICAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAwMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgMDAwXG4gICAgIyAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuXG4gICAgQGJsb2NrOiAoaGVhZGVyLCBibG9jaywgbGVnZW5kPWZhbHNlKSAtPlxuXG4gICAgICAgIGxvZyBSMyB5NSBcIlxcbiAje2hlYWRlcn1cIlxuICAgICAgICBwcmludEJsb2NrID0gKGIpIC0+XG4gICAgICAgICAgICBpZiBsZWdlbmRcbiAgICAgICAgICAgICAgICBzID0gYi5pbmRlbnQgKyBiNihrc3RyLnJwYWQgYi5saW5lLCAzKSArIGI1KCctICcgKyBrc3RyLnBhZCBiLmxhc3QsIDMpICsgdzIoa3N0ci5ycGFkIGIuY29sLCAzKSArIHllbGxvdyhiLnRva2Vucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcyArPSAnXFxuJyArIGIuaW5kZW50XG4gICAgICAgICAgICBzID0gYi5pbmRlbnRcbiAgICAgICAgICAgIGlmIGIudHlwZSBpbiBbJ3t9JycoKScnW10nXSB0aGVuIHMgKz0gYi50eXBlWzBdICsgJyAnXG4gICAgICAgICAgICBmb3IgYyBpbiBiLnRva2Vuc1xuICAgICAgICAgICAgICAgIGlmIGMudG9rZW5zP1xuICAgICAgICAgICAgICAgICAgICBzICs9ICdcXG4nICsgcHJpbnRCbG9jayhjKSArIGIuaW5kZW50XG4gICAgICAgICAgICAgICAgZWxzZSBpZiBjLnR5cGUgPT0gJ25sJ1xuICAgICAgICAgICAgICAgICAgICBzICs9ICdcXG4nK2IuaW5kZW50KyfilrgnXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjaSA9IHBhcnNlSW50IGIuaW5kZW50Lmxlbmd0aC80XG4gICAgICAgICAgICAgICAgICAgIGNuID0gWydnNScncjUnJ201JydnMycncjMnJ20zJydnMScncjEnJ20xJ11bY2klOF1cbiAgICAgICAgICAgICAgICAgICAgcyArPSBnbG9iYWxbY25dIChjLnRleHQgPyAnJykgKyAnICdcbiAgICAgICAgICAgIGlmIGIudHlwZSBpbiBbJ3t9JycoKScnW10nXSB0aGVuIHMgKz0gYi50eXBlWzFdXG4gICAgICAgICAgICBzXG4gICAgICAgIGxvZyBwcmludEJsb2NrIGJsb2NrXG5cbiAgICAjICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMDAwMDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgICAgMDAwXG4gICAgIyAwMDAwMDAwMDAgIDAwMDAwMDAgICAgICAwMDBcbiAgICAjIDAwMCAgIDAwMCAgICAgICAwMDAgICAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAwMDAwICAgICAgMDAwXG5cbiAgICBAYXN0OiAoaGVhZGVyLCBhc3QpIC0+XG5cbiAgICAgICAgbG9nIEcxIGc2IFwiXFxuICN7aGVhZGVyfVwiXG4gICAgICAgIFxuICAgICAgICBscGFkID0ga3N0ci5scGFkICcnIDE5XG5cbiAgICAgICAgcHJpbnROb2RlID0gKG5vZGUsIGluZGVudD0nJywgdmlzaXRlZD1bXSkgLT5cblxuICAgICAgICAgICAgcyA9ICcnXG5cbiAgICAgICAgICAgIHJldHVybiBzIGlmIG5vdCBub2RlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIG5vZGUudHlwZVxuICAgICAgICAgICAgICAgIHMgKz0gYjYoa3N0ci5scGFkIG5vZGUubGluZSwgNCkgKyAnICcgKyBibHVlKGtzdHIubHBhZCBub2RlLmNvbCwgMykgKyAnICcgKyBncmF5KGtzdHIucGFkIG5vZGUudHlwZSwgMTApICsgJyAnICsgYm9sZCB5ZWxsb3coaW5kZW50ICsgbm9kZS50ZXh0KSArICdcXG4nXG4gICAgICAgICAgICBlbHNlIGlmIG5vZGUgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBzIGlmIG5vZGUgaW4gdmlzaXRlZFxuICAgICAgICAgICAgICAgIHZpc2l0ZWQucHVzaCBub2RlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcyArPSBscGFkICsgJyAnICsgYm9sZCB3MyhpbmRlbnQgKyAneycpXG4gICAgICAgICAgICAgICAgZm9yIHZhbHVlIGluIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgcyArPSAnXFxuJyBcbiAgICAgICAgICAgICAgICAgICAgcyArPSBwcmludE5vZGUgdmFsdWUsIGluZGVudCwgdmlzaXRlZFxuICAgICAgICAgICAgICAgIHMgKz0gbHBhZCArICcgJyArIGJvbGQgdzMoaW5kZW50ICsgJ31cXG4nKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBzIGlmIG5vZGUgaW4gdmlzaXRlZFxuICAgICAgICAgICAgICAgIHZpc2l0ZWQucHVzaCBub2RlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yIG5hbWUsdmFsdWUgb2Ygbm9kZVxuICAgICAgICAgICAgICAgICAgICBzICs9IGxwYWQgKyAnICcgKyBib2xkIGI4KGluZGVudCArIG5hbWUpXG4gICAgICAgICAgICAgICAgICAgIHMgKz0gJ1xcbicgIFxuICAgICAgICAgICAgICAgICAgICBzICs9IHByaW50Tm9kZSB2YWx1ZSwgaW5kZW50KycgICcsIHZpc2l0ZWRcbiAgICAgICAgICAgIHNcblxuICAgICAgICBpZiBhc3QgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgbG9nIHByaW50Tm9kZSBub2RlIGZvciBub2RlIGluIGFzdFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsb2cgcHJpbnROb2RlIGFzdFxuXG4gICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAwXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMFxuICAgICMgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwMFxuXG4gICAgQGNvZGU6IChtc2csIGNvZGUsIGV4dD0nanMnKSAtPlxuICAgICAgICBsb2cgVzEgdzUga3N0ci5scGFkIG1zZysnICcgODBcbiAgICAgICAgdG1wID0gc2xhc2gudG1wZmlsZSgpXG4gICAgICAgIHRtcCA9IHNsYXNoLnN3YXBFeHQgdG1wLCBleHRcbiAgICAgICAgc2xhc2gud3JpdGVUZXh0IHRtcCwgY29kZVxuICAgICAgICBsb2cgY2hpbGRwLmV4ZWNTeW5jIFwiI3tfX2Rpcm5hbWV9Ly4uL25vZGVfbW9kdWxlcy8uYmluL2NvbG9yY2F0IC0tbGluZU51bWJlcnMgI3t0bXB9XCIgZW5jb2Rpbmc6J3V0ZjgnXG4gICAgICAgIGZzLnVubGluayB0bXBcblxuICAgIEBub29uOiAobXNnLCBhcmcpIC0+XG4gICAgICAgIGxvZyByZWQgbXNnXG4gICAgICAgIGxvZyBub29uLnN0cmluZ2lmeSBhcmcsIGNvbG9yczp0cnVlXG5cbm1vZHVsZS5leHBvcnRzID0gUHJpbnRcbiJdfQ==
//# sourceURL=../coffee/print.coffee