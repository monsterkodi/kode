// koffee 1.20.0

/*
 0000000  000   000  000  000000000   0000000  000   000
000       000 0 000  000     000     000       000   000
0000000   000000000  000     000     000       000000000
     000  000   000  000     000     000       000   000
0000000   00     00  000     000      0000000  000   000
 */
var cmp;

cmp = require('./utils').cmp;

describe('switch', function() {
    it('switches', function() {
        cmp("switch a\n    when 1 then 2", "switch (a)\n{\n    case 1:\n        2\n        break\n}\n");
        cmp("switch a\n    when 11 then 22; 33", "switch (a)\n{\n    case 11:\n        22\n        33\n        break\n}\n");
        cmp("switch a\n    when 'a'   then i++ ; j = 1 if k == 0", "switch (a)\n{\n    case 'a':\n        i++\n        if (k === 0)\n        {\n            j = 1\n        }\n        break\n}\n");
        cmp("switch a\n    when 'a'   then i++ ; j = 0 if k == 1\n    when 'b'   then l++ ; m = 2 if p == 3", "switch (a)\n{\n    case 'a':\n        i++\n        if (k === 1)\n        {\n            j = 0\n        }\n        break\n    case 'b':\n        l++\n        if (p === 3)\n        {\n            m = 2\n        }\n        break\n}\n");
        cmp("switch a\n    when 'a'   then i++ ; i = 1 if i == 0\n    when 'b'   then f++ ; f = 1 if f == 0\n    when 'c'\n        i++ if f != 'f'", "switch (a)\n{\n    case 'a':\n        i++\n        if (i === 0)\n        {\n            i = 1\n        }\n        break\n    case 'b':\n        f++\n        if (f === 0)\n        {\n            f = 1\n        }\n        break\n    case 'c':\n        if (f !== 'f')\n        {\n            i++\n        }\n        break\n}\n");
        cmp("switch a\n    when 111 222 333 then\n    when 'a' 'b' 'c' then", "switch (a)\n{\n    case 111:\n    case 222:\n    case 333:\n        break\n    case 'a':\n    case 'b':\n    case 'c':\n        break\n}\n");
        return cmp("switch a\n    when 111 222 333\n    when 'a' 'b' 'c'", "switch (a)\n{\n    case 111:\n    case 222:\n    case 333:\n        break\n    case 'a':\n    case 'b':\n    case 'c':\n        break\n}\n");
    });
    return it('assign', function() {
        cmp("b = switch c\n    when 'c'\n        true\n    when 'd'\n        false", "b = (function ()\n{\n    switch (c)\n    {\n        case 'c':\n            return true\n\n        case 'd':\n            return false\n\n    }\n\n})()");
        return cmp("b = switch matches[0][0]\n    when 'close'\n        c += index+length\n        true\n    when 'triple' 'double' 'single'\n        c += index+length\n        false\n    else\n        log 'unhandled?' matches[0]\n        c += index+length\n        true", "b = (function ()\n{\n    switch (matches[0][0])\n    {\n        case 'close':\n            c += index + length\n            return true\n\n        case 'triple':\n        case 'double':\n        case 'single':\n            c += index + length\n            return false\n\n        default:\n            console.log('unhandled?',matches[0])\n            c += index + length\n            return true\n    }\n\n})()");
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uL2NvZmZlZS90ZXN0Iiwic291cmNlcyI6WyJzd2l0Y2guY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFBQSxJQUFBOztBQVFDLE1BQU8sT0FBQSxDQUFRLFNBQVI7O0FBRVIsUUFBQSxDQUFTLFFBQVQsRUFBa0IsU0FBQTtJQUVkLEVBQUEsQ0FBRyxVQUFILEVBQWMsU0FBQTtRQUVWLEdBQUEsQ0FBSSw2QkFBSixFQUdRLDJEQUhSO1FBWUEsR0FBQSxDQUFJLG1DQUFKLEVBR1EseUVBSFI7UUFhQSxHQUFBLENBQUkscURBQUosRUFHUSw4SEFIUjtRQWdCQSxHQUFBLENBQUksZ0dBQUosRUFJUSx3T0FKUjtRQXdCQSxHQUFBLENBQUksdUlBQUosRUFNUSxxVUFOUjtRQWdDQSxHQUFBLENBQUksZ0VBQUosRUFJUSw0SUFKUjtlQWtCQSxHQUFBLENBQUksc0RBQUosRUFJUSw0SUFKUjtJQXJIVSxDQUFkO1dBNklBLEVBQUEsQ0FBRyxRQUFILEVBQVksU0FBQTtRQUVSLEdBQUEsQ0FBSSx1RUFBSixFQU1RLHdKQU5SO2VBc0JBLEdBQUEsQ0FBSSw0UEFBSixFQVlRLDZaQVpSO0lBeEJRLENBQVo7QUEvSWMsQ0FBbEIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbiAwMDAwMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMDAwMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwXG4wMDAgICAgICAgMDAwIDAgMDAwICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMFxuMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAwMDAwMDBcbiAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgMDAwICAgMDAwXG4wMDAwMDAwICAgMDAgICAgIDAwICAwMDAgICAgIDAwMCAgICAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuIyMjXG5cbntjbXB9ID0gcmVxdWlyZSAnLi91dGlscydcblxuZGVzY3JpYmUgJ3N3aXRjaCcgLT5cblxuICAgIGl0ICdzd2l0Y2hlcycgLT5cblxuICAgICAgICBjbXAgXCJcIlwiXG4gICAgICAgICAgICBzd2l0Y2ggYVxuICAgICAgICAgICAgICAgIHdoZW4gMSB0aGVuIDJcbiAgICAgICAgICAgIFwiXCJcIiBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCAoYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cXG5cbiAgICAgICAgICAgIFwiXCJcIlxuXG4gICAgICAgIGNtcCBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCBhXG4gICAgICAgICAgICAgICAgd2hlbiAxMSB0aGVuIDIyOyAzM1xuICAgICAgICAgICAgXCJcIlwiIFwiXCJcIlxuICAgICAgICAgICAgc3dpdGNoIChhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIDIyXG4gICAgICAgICAgICAgICAgICAgIDMzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XFxuXG4gICAgICAgICAgICBcIlwiXCJcblxuICAgICAgICBjbXAgXCJcIlwiXG4gICAgICAgICAgICBzd2l0Y2ggYVxuICAgICAgICAgICAgICAgIHdoZW4gJ2EnICAgdGhlbiBpKysgOyBqID0gMSBpZiBrID09IDBcbiAgICAgICAgICAgIFwiXCJcIiBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCAoYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XFxuXG4gICAgICAgICAgICBcIlwiXCJcblxuICAgICAgICBjbXAgXCJcIlwiXG4gICAgICAgICAgICBzd2l0Y2ggYVxuICAgICAgICAgICAgICAgIHdoZW4gJ2EnICAgdGhlbiBpKysgOyBqID0gMCBpZiBrID09IDFcbiAgICAgICAgICAgICAgICB3aGVuICdiJyAgIHRoZW4gbCsrIDsgbSA9IDIgaWYgcCA9PSAzXG4gICAgICAgICAgICBcIlwiXCIgXCJcIlwiXG4gICAgICAgICAgICBzd2l0Y2ggKGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaiA9IDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2InOlxuICAgICAgICAgICAgICAgICAgICBsKytcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgPT09IDMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSAyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cXG5cbiAgICAgICAgICAgIFwiXCJcIlxuXG4gICAgICAgIGNtcCBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCBhXG4gICAgICAgICAgICAgICAgd2hlbiAnYScgICB0aGVuIGkrKyA7IGkgPSAxIGlmIGkgPT0gMFxuICAgICAgICAgICAgICAgIHdoZW4gJ2InICAgdGhlbiBmKysgOyBmID0gMSBpZiBmID09IDBcbiAgICAgICAgICAgICAgICB3aGVuICdjJ1xuICAgICAgICAgICAgICAgICAgICBpKysgaWYgZiAhPSAnZidcbiAgICAgICAgICAgIFwiXCJcIiBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCAoYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnYic6XG4gICAgICAgICAgICAgICAgICAgIGYrK1xuICAgICAgICAgICAgICAgICAgICBpZiAoZiA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZiA9IDFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZiAhPT0gJ2YnKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpKytcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxcblxuICAgICAgICAgICAgXCJcIlwiXG4gICAgICAgICAgICBcbiAgICAgICAgY21wIFwiXCJcIlxuICAgICAgICAgICAgc3dpdGNoIGFcbiAgICAgICAgICAgICAgICB3aGVuIDExMSAyMjIgMzMzIHRoZW5cbiAgICAgICAgICAgICAgICB3aGVuICdhJyAnYicgJ2MnIHRoZW5cbiAgICAgICAgICAgIFwiXCJcIiBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCAoYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIDExMTpcbiAgICAgICAgICAgICAgICBjYXNlIDIyMjpcbiAgICAgICAgICAgICAgICBjYXNlIDMzMzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cXG5cbiAgICAgICAgICAgIFwiXCJcIlxuXG4gICAgICAgIGNtcCBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCBhXG4gICAgICAgICAgICAgICAgd2hlbiAxMTEgMjIyIDMzM1xuICAgICAgICAgICAgICAgIHdoZW4gJ2EnICdiJyAnYydcbiAgICAgICAgICAgIFwiXCJcIiBcIlwiXCJcbiAgICAgICAgICAgIHN3aXRjaCAoYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIDExMTpcbiAgICAgICAgICAgICAgICBjYXNlIDIyMjpcbiAgICAgICAgICAgICAgICBjYXNlIDMzMzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cXG5cbiAgICAgICAgICAgIFwiXCJcIlxuICAgICAgICAgICAgXG4gICAgIyAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAwMDAgICAgICAgIDAwMDAgIDAwMCAgXG4gICAgIyAwMDAwMDAwMDAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwICAwMDAgIDAwMDAgIDAwMCAwIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgXG4gICAgXG4gICAgaXQgJ2Fzc2lnbicgLT5cbiAgICAgICAgIFxuICAgICAgICBjbXAgXCJcIlwiXG4gICAgICAgICAgICBiID0gc3dpdGNoIGNcbiAgICAgICAgICAgICAgICB3aGVuICdjJ1xuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgd2hlbiAnZCdcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIFwiXCJcIiBcIlwiXCJcbiAgICAgICAgICAgIGIgPSAoZnVuY3Rpb24gKClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgXCJcIlwiXG5cbiAgICAgICAgY21wIFwiXCJcIlxuICAgICAgICAgICAgYiA9IHN3aXRjaCBtYXRjaGVzWzBdWzBdXG4gICAgICAgICAgICAgICAgd2hlbiAnY2xvc2UnXG4gICAgICAgICAgICAgICAgICAgIGMgKz0gaW5kZXgrbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICB3aGVuICd0cmlwbGUnICdkb3VibGUnICdzaW5nbGUnXG4gICAgICAgICAgICAgICAgICAgIGMgKz0gaW5kZXgrbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBsb2cgJ3VuaGFuZGxlZD8nIG1hdGNoZXNbMF1cbiAgICAgICAgICAgICAgICAgICAgYyArPSBpbmRleCtsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgXCJcIlwiIFwiXCJcIlxuICAgICAgICAgICAgYiA9IChmdW5jdGlvbiAoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobWF0Y2hlc1swXVswXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgKz0gaW5kZXggKyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndHJpcGxlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZG91YmxlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2luZ2xlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgKz0gaW5kZXggKyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndW5oYW5kbGVkPycsbWF0Y2hlc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgKz0gaW5kZXggKyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB9KSgpXG4gICAgICAgICAgICBcIlwiXCJcbiAgICAgICAgICAgIFxuICAgICMgaXQgJ25pY2VyJyAtPlxuIyAgICAgICAgICAgICBcbiAgICAgICAgIyBjbXAgXCJcIlwiXG4gICAgICAgICAgICAjIHN3aXRjaCB4XG4gICAgICAgICAgICAgICAgIyAnYmxhJyAgIOKenCBibGFcbiAgICAgICAgICAgICAgICAjICdoZWxsbycg4p6cIGJsdWJcbiAgICAgICAgICAgICAgICAgICAgICAgICMg4p6cIGZhcmtcbiAgICAgICAgICAgICMgXCJcIlwiIFwiXCJcIlxuICAgICAgICAgICAgIyBcIlwiXCJcblxuICAgICAgICAjIGNtcCBcIlwiXCJcbiAgICAgICAgICAgICMgc3dpdGNoIHhcbiAgICAgICAgICAgICAgICAjICd4JyBcbiAgICAgICAgICAgICAgICAjIDEgMiAzXG4gICAgICAgICAgICAgICAgIyAnYmxhJyAgIOKenCBibGFcbiAgICAgICAgICAgICAgICAjICdhJyAnYidcbiAgICAgICAgICAgICAgICAjICdoZWxsbycg4p6cIGJsdWJcbiAgICAgICAgICAgICAgICAgICAgICAgICMg4p6cIGZhcmtcbiAgICAgICAgICAgICMgXCJcIlwiIFwiXCJcIlxuICAgICAgICAgICAgIyBcIlwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICJdfQ==
//# sourceURL=../../coffee/test/switch.coffee